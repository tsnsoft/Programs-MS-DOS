{ Программа установки символов пользователей }
{ * TSN * Associate, 22.09.1997, ┼Sn }

uses crt; { Подключим модуль работы с консолью }
const n=4; { Указываем количество устанавливаемых символов }

{ Опишем символы нашего шрифта }
const MyFont: array [1..n, 1..8] of byte=(
                                    ($ff,$81,$81,$81,$81,$81,$81,$ff),
                                    ($00,$7e,$7e,$7e,$7e,$7e,$7e,$00),
                                    ($00,$00,$3c,$3c,$3c,$3c,$00,$00),
                                    ($00,$00,$00,$18,$18,$00,$00,$00)
                                    );

{ Процедура установки наших символов }
procedure Font (var sss); assembler;
asm
  { Установим свой шрифт в блоке 0 }
  les bp, sss; { Загружаем ES:BP адресом нашего шрифта }
  mov ah,11h;  { Указываем номер функции работы со шрифтами }
  mov al,10h;  { Указываем номер подфункции загрузки нашего шрифта }
  mov bh,8h;   { Указываем высоту (в точках) символов нашего шрифта }
  mov bl,0h;   { Указываем номер загружаемого блока знакогенератора }
  mov cx,n;    { Указываем количество символов в нашем шрифте }
  mov dx,80h;  { Указываем код первого символа нашего шрифта }
  int 10h;     { Вызываем Video - сервис }
end;

begin
  { Установим шрифт 8*8 в блоке 0 }
asm
  mov ah,11h; { Указываем номер функции работы со шрифтами }
  mov al,12h; { Указываем номер подфункции загрузки шрифта 8*8 }
  mov bl,0;   { Указываем номер загружаемого блока знакогенератора }
  int 10h;    { Вызываем Video - сервис }
end;

clrscr; writeln('* TSN * Associate'); writeln;
writeln ('Демонстрация новых символов пользователей - АБВГ'); readln;
Font(MyFont);

{ Сделаем паузу для просмотра содержимого экрана }
readln;

  { Установим шрифт 8*14 в блоке 0 }
asm
  mov ah,11h; mov al,11h; mov bl,0; int 10h;
end;

writeln('... ПЕРВОНАЧАЛЬНЫЙ ШРИФТ ВОССТАНОВЛЕН'); readln;
end.
